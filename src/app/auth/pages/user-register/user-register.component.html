<mat-card class="mat-elevation-z4">
  <mat-card-title fxLayoutAlign="center center">
      <span>Registrar usuario</span>
  </mat-card-title>
  <hr>
  <br>

  <mat-card-content>
    <form autocomplete="off" (submit)="guardar()" [formGroup]="miFormulario">

      <div fxLayout="column">
        <div fxLayout="row" fxLayoutGap="20px" fxLayout.lt-sm="column" fxLayoutGap.lt-sm="0">

          <mat-form-field appearance="outline" fxFlex="49">
            <mat-label>Tipo de usuario</mat-label>
            <mat-select formControlName="userType">
              <mat-option value="">Seleccione</mat-option>
              <mat-option value="cliente">Cliente</mat-option>
              <mat-option value="empleado">Empleado</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline" fxFlex="100" *ngIf="tipoSeleccionado == 'empleado'">
            <mat-label>Cargo</mat-label>
            <input matInput type="text" placeholder="Cargo" formControlName="position"
              [errorStateMatcher]="validarService.matcher">
            <mat-error *ngIf="validarService.campoEsValido('position')">
              {{validarService.getMensaje('position')}}
            </mat-error>
          </mat-form-field>

        </div>
      </div>

      <div fxLayout="column">
        <div fxLayout="row" fxLayoutGap="20px" fxLayout.lt-sm="column" fxLayoutGap.lt-sm="0">

          <mat-form-field appearance="outline" fxFlex="100">
            <mat-label>Usuario</mat-label>
            <input matInput type="text" placeholder="Usuario" formControlName="username"
              [errorStateMatcher]="validarService.matcher">
            <mat-error *ngIf="validarService.campoEsValido('username')">
              {{validarService.getMensaje('username')}}
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" fxFlex="100">
            <mat-label>Constraseña</mat-label>
            <input matInput type="password" placeholder="Contraseña" formControlName="password"
              [errorStateMatcher]="validarService.matcher">
            <mat-error *ngIf="validarService.campoEsValido('password')">
              {{validarService.getMensaje('password')}}
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" fxFlex="100">
            <mat-label>Email</mat-label>
            <input matInput type="text" placeholder="Email" formControlName="email"
              [errorStateMatcher]="validarService.matcher">
            <mat-error *ngIf="validarService.campoEsValido('email')">
              {{validarService.getMensaje('email')}}
            </mat-error>
          </mat-form-field>

        </div>
      </div>

      <div fxLayout="column">
        <div fxLayout="row" fxLayoutGap="20px" fxLayout.lt-sm="column" fxLayoutGap.lt-sm="0">

          <mat-form-field appearance="outline" fxFlex="100">
            <mat-label>Nombre</mat-label>
            <input matInput type="text" placeholder="Nombre" formControlName="name"
              [errorStateMatcher]="validarService.matcher">
            <mat-error *ngIf="validarService.campoEsValido('name')">
              {{validarService.getMensaje('name')}}
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" fxFlex="100">
            <mat-label>Apellido</mat-label>
            <input matInput type="text" placeholder="Apellido" formControlName="lastname"
              [errorStateMatcher]="validarService.matcher">
            <mat-error *ngIf="validarService.campoEsValido('lastname')">
              {{validarService.getMensaje('lastname')}}
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" fxFlex="100">
            <mat-label>Telefono</mat-label>
            <input matInput type="text" placeholder="Telefono" formControlName="phone"
              [errorStateMatcher]="validarService.matcher">
            <mat-error *ngIf="validarService.campoEsValido('phone')">
              {{validarService.getMensaje('phone')}}
            </mat-error>
          </mat-form-field>

        </div>
      </div>

      <div fxLayoutAlign="end center">
        <button type="submit" mat-raised-button color="primary">
          <mat-icon>save_as</mat-icon>
          Guardar
        </button>
      </div>
      <br>

    </form>
  </mat-card-content>

<mat-card></mat-card>
